(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0df5e26"],{"0c57":function(n,o,e){"use strict";e("fb80")},bb65:function(n,o,e){"use strict";e.r(o);var t=function(){var n=this,o=n.$createElement,e=n._self._c||o;return e("merchant-map-2")},i=[],a=function(){var n=this,o=n.$createElement,e=n._self._c||o;return e("section",{staticClass:"amap-wrapper"},[e("el-amap",{ref:"map",staticClass:"amap-box",attrs:{vid:"amap-vue",center:n.center,zoom:n.zoom,events:n.events}})],1)},r=[],s=e("c964"),c=(e("96cf"),e("d81d"),e("159b"),e("d3b7"),e("25f0"),e("99af"),e("bc3a"),e("cf05")),l=e.n(c),p=e("f04b"),f={data:function(){var n=this;return{center:[120.109978,29.476335],zoom:8,events:{init:function(o){n.initMap(o)}},circle:{},polygon:{},markers:[],polygonInfoData:{},markerInfoData:{}}},computed:{markerInfoWindow:function(){return new AMap.InfoWindow({offset:new AMap.Pixel(0,-30)})},polygonInfoWindow:function(){return new AMap.InfoWindow({offset:new AMap.Pixel(0,-30)})},markerInfo:function(){return'\n        <div class="marker_info_window">\n          <p style="padding-top: 10px">'.concat(this.markerInfoData.positionStr,"</p>\n        </div>\n      ")},polygonInfo:function(){return'\n        <div class="marker_info_window">\n          <p style="padding-top: 10px">面</p>\n        </div>\n      '}},methods:{initMap:function(n){var o=this;this.setMap(n),this.setPolygon(n),n.on("click",(function(e){o.getPosition(e,n),o.closeAllWindow()}))},setMap:function(n){var o=this;n.on("zoomchange",(function(){var e=n.getZoom();console.log(e),e>=16&&(o.polygon=null,n.setZoomAndCenter(8,o.center),o.setMarker(n)),e<13&&(o.removeAllOverlay(n),o.polygon||o.setPolygon(n))}))},removeAllOverlay:function(n){n.clearMap()},getPosition:function(n,o){console.log("您在 ["+n.lnglat.getLng()+","+n.lnglat.getLat()+"] 的位置点击了地图"),console.log("当前地图的缩放级别为",o.getZoom())},toogleWindow:function(n,o,e){n.map?n.close():n.open(o,e)},openWindow:function(n,o,e){n.open(o,e)},closeWindow:function(n){n.close()},closeAllWindow:function(){this.closeWindow(this.markerInfoWindow)},setPolygon:function(n){console.log("绘制面",n),this.circle=new AMap.Circle({center:new AMap.LngLat("116.403322","39.920255"),radius:1e3,strokeColor:"#F33",strokeOpacity:1,strokeWeight:3,fillColor:"#ee2200",fillOpacity:.35}),n.add(this.circle);var o=[[116.403322,39.920255],[116.410703,39.897555],[116.402292,39.892353],[116.389846,39.891365]];this.polygon=new AMap.Polygon({map:n,path:o,strokeColor:"#FF33FF",strokeOpacity:.2,strokeWeight:3,fillColor:"#1791fc",fillOpacity:.35}),n.setFitView();var e={Q:39.8999514470666,R:116.40628264769913,lat:39.899951,lng:116.406283};this.markerInfoWindow.setContent(this.polygonInfo),this.toogleWindow(this.markerInfoWindow,n,e),this.circle.on("click",(function(o){console.log(o),n.setZoom(20)})),this.polygon.on("click",(function(o){console.log(11),n.setZoom(20)}))},setMarker:function(n){var o=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=[],o.markers=[],p["mapDataList"].forEach((function(n){t.push({lnglat:n.lnglat})})),i=new AMap.Icon({size:new AMap.Size(80,80),image:l.a,imageSize:new AMap.Size(40,40),imageOffset:new AMap.Pixel(5,8)}),a=0;a<t.length;a+=1)r=new AMap.Marker({position:t[a]["lnglat"],offset:new AMap.Pixel(-15,-15),clickable:!0,icon:i}),o.markers.push(r),r.setMap(n),o.setMarkerEvent(r,n);case 5:case"end":return e.stop()}}),e)})))()},setMarkerEvent:function(n,o){var e=this;AMap.event.addListener(n,"click",(function(){e.markerEvent(n)})),AMap.event.addListener(n,"mouseover",(function(t){e.markerHoverEvent(t,o,n)})),AMap.event.addListener(n,"mouseout",(function(){e.closeAllWindow()}))},markerEvent:function(n){p["mapDataList"].forEach((function(o){o.lnglat[0]===n.De.position.lng.toString()&&console.log(o.area)}))},markerHoverEvent:function(n,o,e){var t="";p["mapDataList"].forEach((function(n){n.lnglat[0]===e.De.position.lng.toString()&&(t=n.area)})),this.markerInfoData={index:n.target.index,position:"[".concat(e.De.position.lng,", ").concat(e.De.position.lat,"]"),positionStr:t},this.markerInfoWindow.setContent(this.markerInfo),this.toogleWindow(this.markerInfoWindow,o,n.lnglat)}}},u=f,m=(e("0c57"),e("2877")),d=Object(m["a"])(u,a,r,!1,null,"a737df22",null),g=d.exports,w={name:"ploymap2",components:{MerchantMap2:g}},h=w,v=Object(m["a"])(h,t,i,!1,null,null,null);o["default"]=v.exports},d81d:function(n,o,e){"use strict";var t=e("23e7"),i=e("b727").map,a=e("1dde"),r=a("map");t({target:"Array",proto:!0,forced:!r},{map:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}})},fb80:function(n,o,e){}}]);