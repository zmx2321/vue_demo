(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d28273d"],{"842f":function(n,e,o){"use strict";o.r(e);var t=function(){var n=this,e=n.$createElement,o=n._self._c||e;return o("section",{staticClass:"amap-wrapper"},[o("el-input",{staticClass:"poipicker",attrs:{id:"pickerInput",placeholder:"输入关键字选取地点"},model:{value:n.POIText,callback:function(e){n.POIText=e},expression:"POIText"}}),o("el-amap",{ref:"map",staticClass:"amap-box",attrs:{vid:"amap-vue",center:n.center,zoom:n.zoom,events:n.events}})],1)},a=[],i=o("c964"),r=(o("96cf"),o("99af"),o("b0c0"),o("d3b7"),o("25f0"),o("159b"),o("f04b")),s=o("cf05"),l=o.n(s),c={data:function(){var n=this;return{center:[120.273703,30.177084],zoom:13,events:{init:function(e){n.initMap(e)}},polygon:{},markers:[],polygonInfoData:{},markerInfoData:{},POIText:""}},computed:{markerInfoWindow:function(){return new AMap.InfoWindow({offset:new AMap.Pixel(0,-30)})},polygonInfoWindow:function(){return new AMap.InfoWindow({offset:new AMap.Pixel(0,-30)})},markerInfo:function(){return'\n        <div class="marker_info_window">\n          <p style="padding-top: 10px">'.concat(this.markerInfoData.positionStr,"</p>\n        </div>\n      ")},polygonInfo:function(){return'\n        <div class="marker_info_window">\n          <p style="padding-top: 10px">'.concat(this.polygonInfoData.name,"</p>\n          ").concat(this.polygonInfoData.name,"\n          ").concat(this.polygonInfoData.detail,"\n        </div>\n      ")}},methods:{initMap:function(n){var e=this;n.on("click",(function(o){e.getPosition(o,n)})),this.renderZheJiang(n),this.searchPOI(n),this.drawAllPolygon(n)},setMap:function(n){var e=this;n.on("zoomchange",(function(){var o=n.getZoom(),t=0===n.getAllOverlays("marker").length;t?(o<8||o>=18)&&n.setFitView():o<7&&e.drawAllPolygon(n)}))},renderZheJiang:function(n){var e=["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac"];AMapUI.loadUI(["geo/DistrictExplorer"],(function(o){var t=new o({eventSupport:!0,map:n}),a=new AMap.Marker({bubble:!0});t.on("featureMouseout featureMouseover",(function(e,o){var t="featureMouseover"===e.type;t?(a.setMap(n),a.setPosition(e.originalEvent.lnglat),a.setLabel({offset:new AMap.Pixel(20,20),content:o.properties.name})):a.setMap(null)})),t.on("featureMousemove",(function(n,e){a.setPosition(n.originalEvent.lnglat)})),t.on("featureClick",(function(n,e){console.log("点击: "+e.properties.name)})),t.on("outsideClick",(function(n){}));var i=function(n){[31e4,330100,330200].indexOf(n.getAdcode())>=0&&t.renderSubFeatures(n,(function(n,o){var t=e[o%e.length],a=e[e.length-1-o%e.length];return{cursor:"default",bubble:!0,strokeColor:a,strokeOpacity:1,strokeWeight:1,fillColor:t,fillOpacity:.35}})),t.renderParentFeature(n,{cursor:"default",bubble:!0,strokeColor:"black",strokeOpacity:1,strokeWeight:1,fillColor:"gray",fillOpacity:.2})},r=[33e4];t.loadMultiAreaNodes(r,(function(e,o){t.setAreaNodesForLocating(o),t.clearFeaturePolygons();for(var a=0,r=o.length;a<r;a++)i(o[a]);n.setFitView(t.getAllFeaturePolygons())}))}))},searchPOI:function(n){console.log("POI搜索"),AMapUI.loadUI(["misc/PoiPicker"],(function(n){var o=new n({input:"pickerInput"});e(o)}));var e=function(e){window.poiPicker=e;var o=new AMap.Marker,t=new AMap.InfoWindow({offset:new AMap.Pixel(0,-20)});e.on("poiPicked",(function(e){e.source;var a=e.item,i={name:a.name,location:a.location.toString(),address:a.address};o.setMap(n),t.setMap(n),o.setPosition(a.location),t.setPosition(a.location),t.setContent("POI信息: <pre>"+JSON.stringify(i,null,2)+"</pre>"),t.open(n,o.getPosition()),n.setCenter(o.getPosition())}))}},getPosition:function(n,e){console.log("您在 ["+n.lnglat.getLng()+","+n.lnglat.getLat()+"] 的位置点击了地图"),console.log("当前地图的缩放级别为",e.getZoom())},openWindow:function(n,e,o){n.open(e,o)},closeWindow:function(n){n.close()},polygonConfig:function(n,e){return new AMap.Polygon({map:n,path:e,strokeColor:"#FF33FF",strokeOpacity:.2,strokeWeight:3,fillColor:"#1791fc",fillOpacity:.35})},drawAllPolygon:function(n){var e=this;n.clearMap();var o=[];r["b"].forEach((function(t){var a=e.polygonConfig(n,t.positionList);o.push(a),e.polygonEvent(n,t,a)})),n.add(o),n.setFitView()},polygonEvent:function(n,e,o){var t=this;o.on("mouseover",(function(o){t.polygonInfoData={name:e.name,detail:e.detail},t.polygonInfoWindow.setContent(t.polygonInfo),t.openWindow(t.polygonInfoWindow,n,o.lnglat)})),o.on("mouseout",(function(){t.closeWindow(t.polygonInfoWindow)})),o.on("click",(function(){console.log(t.polygonInfoData),t.setMarker(n)}))},setMarker:function(n){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){var t,a,i,s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:for(n.clearMap(),t=[],e.markers=[],r["mapDataList"].forEach((function(n){t.push({lnglat:n.lnglat})})),a=new AMap.Icon({size:new AMap.Size(80,80),image:l.a,imageSize:new AMap.Size(40,40),imageOffset:new AMap.Pixel(5,8)}),i=0;i<t.length;i+=1)s=new AMap.Marker({position:t[i]["lnglat"],offset:new AMap.Pixel(-15,-15),clickable:!0,icon:a}),e.markers.push(s),s.setMap(n),n.setFitView(),e.setMarkerEvent(s,n);case 6:case"end":return o.stop()}}),o)})))()},setMarkerEvent:function(n,e){var o=this;AMap.event.addListener(n,"mouseover",(function(t){o.markerHoverEvent(t,e,n)})),AMap.event.addListener(n,"mouseout",(function(){o.closeWindow(o.markerInfoWindow)})),AMap.event.addListener(n,"click",(function(){o.markerEvent(n)}))},markerEvent:function(n){r["mapDataList"].forEach((function(e){e.lnglat[0]===n.De.position.lng.toString()&&console.log(e.area)}))},markerHoverEvent:function(n,e,o){var t="";r["mapDataList"].forEach((function(n){n.lnglat[0]===o.De.position.lng.toString()&&(t=n.area)})),this.markerInfoData={index:n.target.index,position:"[".concat(o.De.position.lng,", ").concat(o.De.position.lat,"]"),positionStr:t},this.markerInfoWindow.setContent(this.markerInfo),this.openWindow(this.markerInfoWindow,e,n.lnglat)}}},p=c,f=(o("8f43"),o("2877")),u=Object(f["a"])(p,t,a,!1,null,"120164d9",null);e["default"]=u.exports},"8f43":function(n,e,o){"use strict";o("bc4d")},bc4d:function(n,e,o){}}]);